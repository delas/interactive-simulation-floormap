<!DOCTYPE html>
<html>
<style type="text/css">
.map {
  background: url(floormap2.jpg) no-repeat;
  height: 652px;
  width: 1472px;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}

.bathroom {
	position: absolute;
	top: 20px;
	left: 380px;
	width: 199px;
	height: 308px;
	background: white;
	opacity: 0;
}

.bedroom {
	position: absolute;
	top: 20px;
	left: 20px;
	width: 340px;
	height: 480px;
	background: white;
	opacity: 0;
}

.kitchen {
	position: absolute;
	top: 20px;
	left: 590px;
	width: 380px;
	height: 150px;
	background: white;
	opacity: 0;
}

.entrance {
	position: absolute;
	top: 70px;
	left: 1340px;
	width: 105px;
	height: 100px;
	background: white;
	opacity: 0;
}

.cabinet {
	position: absolute;
	top: 490px;
	left: 380px;
	width: 460px;
	height: 135px;
	background: white;
	opacity: 0;
}

.living {
	position: absolute;
	top: 380px;
	left: 1000px;
	width: 440px;
	height: 120px;
	background: white;
	opacity: 0;
}

.overlayable {
	opacity: 1;
}
.overlayable:hover {
	opacity: 0.5;
}

.person {
	position: absolute;
	top: 0;
	left: 0;
	height: 50px;
	width: 50px;
	background: red;
	border-radius: 50%;
	z-index: 100;
}

</style>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
<script type="module">
interact('.person').draggable({
  listeners: {
    move (event) {
      // console.log(event.pageX, event.pageY)
      const target = event.target;

      // Keep the dragged position in the data-x/data-y attributes
      const x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx;
      const y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;

      // Translate the element's position
      target.style.transform = `translate(${x}px, ${y}px)`;

      // Update the data-x/data-y attributes
      target.setAttribute('data-x', x);
      target.setAttribute('data-y', y);
    }
  }
})
</script>

<script type="text/javascript">

// caseid = 1
// dragging = false

// function logger(room) {
// 	console.log("case: " + caseid + " - activity: enter " + room)
// }

// function newCase() {
// 	caseid += 1
// }

// function startDragging(event) {
// 	dragging = true
// }

// function stopDragging(event) {
// 	dragging = false
// }

// function move(event) {
// 	if (dragging) {
// 		// console.log(event)
// 		person = document.getElementById("person");
// 		person.style.setProperty("left", event.x + "px")
// 		person.style.setProperty("top", event.y + "px")
// 		// console.log(person)
// 	}
// }


</script>
<head>
</head>
<body>
	<div class="person" id="person"></div>
	<!-- <div class="map" onmousedown="startDragging(event)" onmouseup="stopDragging(event)" onmousemove="move(event)"> -->
	<div class="map">
		
		<!-- <div onmouseover="logger('bathroom')" class="overlayable bathroom"></div>
		<div onmouseover="logger('bedroom')" class="overlayable bedroom"></div>
		<div onmouseover="logger('kitchen')" class="overlayable kitchen"></div>
		<div onmouseover="logger('entrance')" class="overlayable entrance"></div>
		<div onmouseover="logger('cabinet')" class="overlayable cabinet"></div>
		<div onmouseover="logger('living')" class="overlayable living"></div> -->
		<div class="overlayable bathroom"></div>
		<div class="overlayable bedroom"></div>
		<div class="overlayable kitchen"></div>
		<div class="overlayable entrance"></div>
		<div class="overlayable cabinet"></div>
		<div class="overlayable living"></div>
	</div>
	<button onclick="newCase()">New day</button>
</body>
</html>